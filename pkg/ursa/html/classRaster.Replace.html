<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><title>R: Assing values to the portion of raster images</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<link rel="stylesheet" type="text/css" href="file:///C:/Software/R/doc/html/R.css" />
</head><body>

<table width="100%" summary="page for Replace"><tr><td>Replace</td><td style="text-align: right;">R Documentation</td></tr></table>

<h2>
Assing values to the portion of raster images
</h2>

<h3>Description</h3>

<p>This operator is used to set or replace values in portion of bands or lines in <code>rmapRaster</code> object in memory or data writing to file.
</p>


<h3>Usage</h3>

<pre>
## S3 replacement method for class 'rmapRaster'
x[i, j, ...] &lt;- value


</pre>


<h3>Arguments</h3>

<table summary="R argblock">
<tr valign="top"><td><code>x</code></td>
<td>

<p><code>rmapRaster</code> object
</p>
</td></tr>
<tr valign="top"><td><code>i</code></td>
<td>

<p>Integer or character. If integer, then band index, specifying bands to replace. If character, either list of band names or charater sting for <code><a href="../../base/html/grep.html">regular expression</a></code> to match band index. In the <em>(spatial, temporal)</em> iterpretation of <code>rmapRaster</code> object <code>j</code> points to <em>temporal</em> component.
</p>
</td></tr>
<tr valign="top"><td><code>j</code></td>
<td>

<p>Mentioned for consistence with internal generic function <code><a href="../../base/html/Extract.html">[&lt;-</a></code>.
</p>
</td></tr>
<tr valign="top"><td><code>...</code></td>
<td>

<p>Mentioned for consistence with internal generic function <code><a href="../../base/html/Extract.html">[&lt;-</a></code>.
<br />
Use <code>regexp=FALSE</code> for matching by <code><a href="../../base/html/match.html">match</a></code>, and <code>regexp=TRUE</code> for matching by Perl-compatible regexps case insensitive <code><a href="../../base/html/grep.html">grep</a></code>. Default is <code>FALSE</code>.
</p>
</td></tr>
<tr valign="top"><td><code>value</code></td>
<td>

<p><code>rmapRaster</code> object or numeric (scalar, <code><a href="../../base/html/matrix.html">matrix</a></code>, <code><a href="../../base/html/array.html">array</a></code>). The latter is coerced to internal matrix of <code>$value</code> item of <code>rmapRaster</code> object.
</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Operator <code style="white-space: pre;">\sQuote{[&lt;-}</code> is high-level implementation for data writing. If <code>x$value</code> item is not applicable, then value of <code>rmapRaster</code> is not in memory. In this case the controlled by <code>i</code> and <code>j</code> portion is written to file. If both <code>i</code> and <code>j</code> are missing, then <code>x[] &lt;- value</code> writes values to file wholly.
</p>
<p>It is not implemented the simultaneously writing to file portion of bands and portion of lines.
</p>
<p>Files (currently, ENVI Binary) are opened for reading and writing.
</p>


<h3>Value</h3>

<p>If values of <code>rmapRaster</code> object are in memory, then modified <code>rmapRaster</code> object with replaced bands or lines.
<br />
If values of <code>rmapRaster</code> object are not applicable, then <code>rmapRaster</code> object <em>as is</em>.
</p>


<h3>Author(s)</h3>

<p>Nikita Platonov <a href="mailto:platonov@sevin.ru">platonov@sevin.ru</a>
</p>


<h3>See Also</h3>

<p><code><a href="../../rmap/html/classRaster.Extract.html">Extract</a></code>
</p>


<h3>Examples</h3>

<pre>
session.grid(NULL)
## Prepare
session.grid(regrid(mul=1/4))
a &lt;- pixelsize()
w &lt;- c("first","second","third","fourth","fifth","sixth")
b1 &lt;- rep(a/mean(a),length(w))+seq(length(w))-1
bandname(b1) &lt;- w
nr &lt;- rmap.rows(b1)
bottom &lt;- (as.integer(nr/2)):nr
envi.write(b1,"tmp1",compress=FALSE,interleave="bil")
b2 &lt;- b1
print(b1)

## Replace
b2[1] &lt;- 10+b1["second"]
b2[2] &lt;- 20
try({
   data(volcano)
   b2[3] &lt;- 30+volcano
}) ## error: unable to coerce
b2["fourth"] &lt;- 40+as.matrix(b1[3])
b2[5] &lt;- 50+as.array(b1[4])
set.seed(352)
b2["six"] &lt;- 60+6+runif(5,min=-1,max=1) ## only first value is used (66.42849)
print(b2)
print(object.size(b2))

## Write
b3 &lt;- envi.create(b2,"tmp2")
print(object.size(b3))
for (i in chunk.line(b3,0.04))
{
   b3[,i] &lt;- b2[,i]+100
   if (5 %in% i)
      print(object.size(b3))
}
close(b3)
print(object.size(b3))
b4 &lt;- envi.read("tmp2")
print(b4)
envi.remove("tmp[12]")
</pre>


</body></html>
